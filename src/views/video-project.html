<!DOCTYPE html>
<html>

<head>
    <title>Publication Project</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="../assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="../assets/css/tab-design.css">
    <script src="../assets/js/jquery-3.3.1.js"></script>
    <script type="text/javascript" src="../assets/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="../assets/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="../assets/css/custom-font.css">
    <link rel="stylesheet" type="text/css" href="../assets/css/video-editor.css">
    <script type="text/javascript" src="../assets/js/include-html.js"></script>
    <link rel="stylesheet" href="../assets/css/jquery-ui.css">
    <script src="../assets/js/jquery-ui.js"></script>
    <style>
       .video-container{
            filter: blur(0px);
  -webkit-filter: blur(0px);
        }
        #leftMenu{
            filter: blur(0px);
  -webkit-filter: blur(0px);
        }
        #rightMenu{
            filter: blur(0px);
  -webkit-filter: blur(0px);
        }
 

 /* .container-fluid{
    filter: blur(2px);
  -webkit-filter: blur(2px);
 } */


        .loader {
            position: absolute;
    left: 50%;
    top: 35%;
          border: 16px solid #f3f3f3;
          border-radius: 50%;
          border-top: 16px solid rgb(13, 13, 71);
          border-right: 16px solid rgb(53, 24, 133);
          border-bottom: 16px solid rgb(53, 50, 182);
          border-left: 16px solid rgb(172, 173, 240);
          width: 120px;
          height: 120px;
          -webkit-animation: spin 2s linear infinite;
          animation: spin 2s linear infinite;
         
        }
        
        @-webkit-keyframes spin {
          0% { -webkit-transform: rotate(0deg); }
          100% { -webkit-transform: rotate(360deg); }
        }
        
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
        </style>
    <script>
        //analytics tag


        
          var _gaq = _gaq || [];
          _gaq.push(['_setAccount', 'UA-941940-28']);
          _gaq.push(['_trackPageview']);

          (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
          })();
          
        </script>
    <style type="text/css">
    .dropdown-submenu {
        position: relative;
    }

    .dropdown-submenu .dropdown-menu {
        top: 0;
        left: 100%;
        margin-top: -1px;
    }
    .modal-dialog {
  height: 100vh !important;
  display: flex;
}

.modal-content {
  margin: auto !important;
  height: fit-content !important;
}
	/* The Modal (background) */
    .modal {
		  display: none; /* Hidden by default */
		  position: fixed; /* Stay in place */
		  z-index: 1; /* Sit on top */
		  padding-top: 100px; /* Location of the box */
		  left: 0;
		  top: 0;
		  width: 100%; /* Full width */
		  height: 100%; /* Full height */
		  overflow: auto; /* Enable scroll if needed */
		  background-color: rgb(0,0,0); /* Fallback color */
		  background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
		}

		/* Modal Content */
		.modal-content {
		  background-color:white;
		  margin: auto;
		  padding: 20px;
		  border: 1px solid #888;
		  width: 40%;
		}

		/* The Close Button */
		.close {
		  color: #aaaaaa;
		  float: right;
		  font-size: 28px;
		  font-weight: bold;
		}

		.close:hover,
		.close:focus {
		  color:white;
		  text-decoration: none;
		  cursor: pointer;
		}
    #more {
        display: none;
    }

    .w3-main,
    #main {
        transition: margin-left .4s, margin-right .4s;
    }

    #image_selected_list li:hover{
        background: gray;
        color:white
    }
    .fa-edit:hover{
font-size: 20px;
    }
    </style>
</head>

<body>
    <div class="loader"></div>
  
      
    <nav class="navbar navbar-inverse">
        <div class="container-fluid">
            <ul class="nav navbar-nav">
                <li class="dropdown _child">
                    <a class="dropdown-toggle" data-toggle="dropdown" href="#">File</a>
                    <ul class="dropdown-menu">
                        <li class="dropdown-submenu">
                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">New <span class="caret"></span></a>
                            <ul class="dropdown-menu">
                                <li class="dropdown-submenu">
                                    <a class="dropdown-toggle" data-toggle="dropdown" href="#">New File<span class="caret"></span></a>
                                    <ul class="dropdown-menu">
                                        <li><a href="#">HTML File</a></li>
                                        <li><a href="#">CSS File</a></li>
                                        <li><a href="#">JS File</a></li>
                                    </ul>
                                </li>
                                <li class="dropdown-submenu">
                                    <a class="dropdown-toggle" data-toggle="dropdown" href="#">New Project<span class="caret"></span></a>
                                    <ul class="dropdown-menu">
                                        <li class="dropdown-submenu">
                                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">HTML Based<span class="caret"></span></a>
                                            <ul class="dropdown-menu">
                                                <li><a href="#">New </a></li>
                                                <li><a href="#" id="open">Open</a></li>
                                            </ul>
                                        </li>
                                        <li class="dropdown-submenu">
                                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">Latex Based<span class="caret"></span></a>
                                            <ul class="dropdown-menu">
                                                <li><a href="#">New</a></li>
                                                <li><a href="#">Open</a></li>
                                            </ul>
                                        </li>
                                        <li class="dropdown-submenu">
                                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">Video Presentation<span class="caret"></span></a>
                                            <ul class="dropdown-menu">
                                                <li><a href="#">New</a></li>
                                                <li><a href="#">Open</a></li>
                                            </ul>
                                        </li>
                                        <li class="dropdown-submenu">
                                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">E-mail Design<span class="caret"></span></a>
                                            <ul class="dropdown-menu">
                                                <li><a href="javascript:void(0)" action-field="menuBtn-start-new">New</a></li>
                                            </ul>
                                        </li>
                                        <li class="dropdown-submenu">
                                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">Social Based<span class="caret"></span></a>
                                            <ul class="dropdown-menu">
                                                <li><a href="#">New</a></li>
                                            </ul>
                                        </li>
                                        <li class="dropdown-submenu">
                                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">Publication Design<span class="caret"></span></a>
                                            <ul class="dropdown-menu">
                                                <li><a href="#">New</a></li>
                                                <li><a href="#">Open</a></li>
                                            </ul>
                                        </li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                        <li><a tabindex="-1" href="#">Open</a></li>
                        <li><a tabindex="-1" href="#">Save</a></li>
                        <li><a tabindex="-1" href="#">Save As</a></li>
                        <li><a tabindex="-1" href="#">Close Project</a></li>
                        <li><a tabindex="-1" href="#">Exit</a></li>
                    </ul>
                </li>
                <li class="dropdown _child">
                    <a class="dropdown-toggle" data-toggle="dropdown" href="#">Navigate</a>
                    <ul class="dropdown-menu">
                        <li><a href="#">Send <span style="float: right;">Ctrl+Alt+Enter</span></a></li>
                        <li><a href="#">Reset <span style="float: right;">Ctrl+Alt+Esc</span></a></li>
                        <li><a href="#">Delete <span style="float: right;">Ctrl+Delete</span></a></li>
                    </ul>
                </li>
                <li class="dropdown _child">
                    <a class="dropdown-toggle" data-toggle="dropdown" href="#">Attach</a>
                    <ul class="dropdown-menu">
                        <li><a href="#">Image</a></li>
                        <li><a href="#">Document</a></li>
                        <li><a href="#">Audio</a></li>
                    </ul>
                </li>
                <li class="_child"><a href="#">Settings</a></li>
                <li class="_child"><a href="#">Help</a></li>
                <li class="_child"><a href="#">About</a></li>
            </ul>
        </div>
    </nav>
    <div class="container-fluid">
        <div class="row">
            <div class="work-pan">
                <div class="w3-sidebar w3-bar-block w3-card w3-animate-left tool-tab-pan" id="leftMenu" style="width: 20%;">
                    <span class="close-btn"><button id="leftMenu-btn" class="w3-bar-item w3-button w3-medium icn"><i class="fa fa-times" aria-hidden="true"></i></button></span>
                    <ul class="nav nav-tabs tool-tab">
                        <li class="active"><a data-toggle="tab" href="#tb0"><i class="fa fa-file-text" aria-hidden="true"></i></a></li>
                        <li><a data-toggle="tab" href="#tb1"><i class="fa fa-picture-o" aria-hidden="true"></i></a></li>
                        <li><a data-toggle="tab" href="#tb01"><i class="fa fa-file-pdf-o" aria-hidden="true"></i></a></li>
                        <li><a data-toggle="tab" href="#tb11"><i class="fa fa-music" aria-hidden="true"></i></a></li>
                        <li><a data-toggle="tab" href="#tb2"><i class="fa fa-video-camera" aria-hidden="true"></i></a></li>
                    </ul>
                    <div class="tab-content">
                        <div id="tb0" class="tab-pane fade in active">
                            <div class="tab-head">
                                <p>Text</p>
                            </div>
                            <div class="tab-menu">
                                <ul>
                                    <li><a class="active" href="#"><i class="fa fa-th-large" data-toggle="tooltip" data-placement="top" title="Grid View!" aria-hidden="true"></i></a></li>
                                    <li><a href="#"><i class="fa fa-th-list" aria-hidden="true" data-toggle="tooltip" data-placement="top" title="List View!"></i></a></li>
                                    <li><a href="#"><i class="fa fa-file-o" aria-hidden="true" data-toggle="tooltip" data-placement="top" title="File!"></i></a></li>
                                </ul>
                            </div>
                            <div class="tab-tool-item">
                                <ul class="nav nav-tabs tool-tab">
                                    <li id="fbutton"><img src="../assets/images/tools/add-new.jpg"><br>
                                        <p>Add new files</p>
                                    </li>
                                    <li></li>
                                    <li></li>
                                </ul>
                            </div>
                        </div>
                        <div id="tb1" class="tab-pane fade">
                            <div class="tab-head">
                                <p>Images</p>
                            </div>
                            <div class="tab-menu">
                                <ul>
                                    <li><a class="active" href="#"><i class="fa fa-th-large" data-toggle="tooltip" data-placement="top" title="Grid View!" aria-hidden="true"></i></a></li>
                                    <li><a href="#"><i class="fa fa-th-list" aria-hidden="true" data-toggle="tooltip" data-placement="top" title="List View!"></i></a></li>
                                    <li><a href="#"><i class="fa fa-file-o" aria-hidden="true" data-toggle="tooltip" data-placement="top" title="File!"></i></a></li>
                                </ul>
                            </div>
                            <div class="tab-tool-item">
                                <ul class="nav nav-tabs tool-tab">
                                    <li><img src="../assets/images/tools/dummy-img.jpg"><br>
                                        <p>Add Image</p>
                                    </li>
                                    <li></li>
                                </ul>
                            </div>
                        </div>
                        <div id="tb01" class="tab-pane fade">
                            <div class="tab-head">
                                <p>PDF</p>
                            </div>
                            <div class="tab-menu">
                                <ul>
                                    <li><a class="active" href="#"><i class="fa fa-th-large" data-toggle="tooltip" data-placement="top" title="Grid View!" aria-hidden="true"></i></a></li>
                                    <li><a href="#"><i class="fa fa-th-list" aria-hidden="true" data-toggle="tooltip" data-placement="top" title="List View!"></i></a></li>
                                    <li><a href="#"><i class="fa fa-file-o" aria-hidden="true" data-toggle="tooltip" data-placement="top" title="File!"></i></a></li>
                                </ul>
                            </div>
                            <div class="tab-tool-item">
                                <ul class="nav nav-tabs tool-tab">
                                    <li><img src="../assets/images/tools/add-new.jpg"><br>
                                        <p>Add new files</p>
                                    </li>
                                    <li></li>
                                </ul>
                            </div>
                        </div>
                        <div id="tb11" class="tab-pane fade">
                            <div class="tab-head">
                                <p>Music</p>
                            </div>
                            <div class="tab-menu">
                                <ul>
                                    <li><a class="active" href="#"><i class="fa fa-th-large" data-toggle="tooltip" data-placement="top" title="Grid View!" aria-hidden="true"></i></a></li>
                                    <li><a href="#"><i class="fa fa-th-list" aria-hidden="true" data-toggle="tooltip" data-placement="top" title="List View!"></i></a></li>
                                    <li><a href="#"><i class="fa fa-file-o" aria-hidden="true" data-toggle="tooltip" data-placement="top" title="File!"></i></a></li>
                                </ul>
                            </div>
                            <div class="tab-tool-item">
                                <ul class="nav nav-tabs tool-tab">
                                    <li><img src="../assets/images/tools/add-music.jpg"><br>
                                        <p>Select Music</p>
                                    </li>
                                    <li></li>
                                </ul>
                            </div>
                        </div>
                        <div id="tb2" class="tab-pane fade">
                            <div class="tab-head">
                                <p>Videos</p>
                            </div>
                            <div class="tab-menu">
                                <ul>
                                    <li><a class="active" href="#"><i class="fa fa-th-large" data-toggle="tooltip" data-placement="top" title="Grid View!" aria-hidden="true"></i></a></li>
                                    <li><a href="#"><i class="fa fa-th-list" aria-hidden="true" data-toggle="tooltip" data-placement="top" title="List View!"></i></a></li>
                                    <li><a href="#"><i class="fa fa-file-o" aria-hidden="true" data-toggle="tooltip" data-placement="top" title="File!"></i></a></li>
                                </ul>
                            </div>
                            <div class="tab-tool-item">
                                <ul class="nav nav-tabs tool-tab">
                                    <li><img src="../assets/images/tools/add-video.jpg"><br>
                                        <p>Add new files</p>
                                    </li>
                                    <li></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <span id="status" style="color:green"></span>
                    <div id="drag">
                       
                        <div id="small" class="row">
                            <div class="col-sm-6"><label> Width:</label></div><div class="col-sm-6"><input id="width" type="number" step="1" value="500"></div>
                            <div class="col-sm-6"><label>Height:</label></div><div class="col-sm-6"><input id="height" type="number" step="1" value="300"></div>
                            <div class="col-sm-6"><label>Video Frame Rate:</label></div><div class="col-sm-6"><input id="framerate" type="number" step="1" value="15"></div>
                        </div>
                       
                    </div>
                    <br>
                    <ul id="image_selected_list"  style="list-style-type:none;">
                           
                        </ul>
                    <input type="file" id="filesinput" style="visibility: hidden" multiple>
            
                    <br>
                    <video id="awesome"  controls autoplay loop></video>
                    <br>
                   
                   
            
                    <canvas id="canvas" style="display:none"></canvas>
                   
            
                </div>
                <div id="open1" class="modal">

                    <!-- Modal content -->
                    <div class="modal-content">
                      <span class="close">&times;</span>
                      <p class="form-label">Enter file name</p><br/>
                      <input type="file" id="fetchfiles"  class="form-control" name="files[]" directory /><br/>
                      <button id="openbtn" type="submit" class="btn btn-primary btn-sm" >OPEN</button>
                    </div>
                  
                  </div>
                
<div id="edit_image_description" class="modal">

        <!-- Modal content -->
        <div class="modal-content">
          <span class="close">&times;</span>
          <p class="form-label">Write image Description</p><br/>
             
              <textarea rows="4" cols="50" class="form-control" id="write_image_description"></textarea>
          <button  id="Done" class="btn btn-primary btn-sm" >Done</button>
        </div>
      
      </div>
     
                <div class="w3-sidebar w3-bar-block w3-card w3-animate-right tool-tab-pan" style="right:0;" id="rightMenu">
                    <span class="close-btn"><button id="rightMenu-btn" class="w3-bar-item w3-button w3-medium icn"><i class="fa fa-times" aria-hidden="true"></i></button></span>
                    <ul class="nav nav-tabs tool-tab">
                        <li class="active"><a data-toggle="tab" href="#ntab0"><i class="fa fa-sticky-note" aria-hidden="true"></i></a></li>
                        <li><a data-toggle="tab" href="#ntab1"><i class="fa fa-volume-up" aria-hidden="true"></i></a></li>
                        <li><a data-toggle="tab" href="#ntab2"><i class="fa fa-mouse-pointer" aria-hidden="true"></i></a></li>
                    </ul>
                    <div class="tab-content" style="height: 624px; overflow: auto;">
                        <div id="ntab0" class="tab-pane fade in active">
                            <div class="tab-head">
                                <p>Transform</p>
                            </div>
                            <div class="tab-property">
                                <table class="table">
                                    <tbody>
                                        <tr>
                                            <td><i class="fa fa-chevron-right"></i></td>
                                            <td>accept</td>
                                            <td><input autocomplete="off" type="text"></td>
                                        </tr>
                                        <tr>
                                            <td><i class="fa fa-chevron-right"></i></td>
                                            <td>alt</td>
                                            <td><input autocomplete="off" type="text"></td>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td>max</td>
                                            <td><input autocomplete="off" type="text"></td>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td>maxlength</td>
                                            <td><input autocomplete="off" type="text"></td>
                                        </tr>
                                        <tr>
                                            <td><i class="fa fa-chevron-right"></i></td>
                                            <td>min</td>
                                            <td><input autocomplete="off" type="text"></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="tab-head">
                                <p>compositing</p>
                            </div>
                            <div class="tab-property">
                                <table class="table">
                                    <tbody>
                                        <tr>
                                            <td><i class="fa fa-chevron-right"></i></td>
                                            <td>accept</td>
                                            <td><input autocomplete="off" type="text"></td>
                                        </tr>
                                        <tr>
                                            <td><i class="fa fa-chevron-right"></i></td>
                                            <td>alt</td>
                                            <td><input autocomplete="off" type="text"></td>
                                        </tr>
                                        <tr>
                                            <td><i class="fa fa-chevron-right"></i></td>
                                            <td>autocomplete</td>
                                            <td><input autocomplete="off" type="text"></td>
                                        </tr>
                                        <tr>
                                            <td><i class="fa fa-chevron-right"></i></td>
                                            <td>autofocus</td>
                                            <td><input autocomplete="off" type="text"></td>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td>max</td>
                                            <td><input autocomplete="off" type="text"></td>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td>maxlength</td>
                                            <td><input autocomplete="off" type="text"></td>
                                        </tr>
                                        <tr>
                                            <td><i class="fa fa-chevron-right"></i></td>
                                            <td>min</td>
                                            <td><input autocomplete="off" type="text"></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="tab-head">
                                <p>Border</p>
                            </div>
                            <div class="tab-property">
                                <table class="table">
                                    <tbody>
                                        <tr>
                                            <td><i class="fa fa-chevron-right"></i></td>
                                            <td>accept</td>
                                            <td><input autocomplete="off" type="text"></td>
                                        </tr>
                                        <tr>
                                            <td><i class="fa fa-chevron-right"></i></td>
                                            <td>alt</td>
                                            <td><input autocomplete="off" type="text"></td>
                                        </tr>
                                        <tr>
                                            <td><i class="fa fa-chevron-right"></i></td>
                                            <td>autocomplete</td>
                                            <td><input autocomplete="off" type="text"></td>
                                        </tr>
                                        <tr>
                                            <td><i class="fa fa-chevron-right"></i></td>
                                            <td>autofocus</td>
                                            <td><input autocomplete="off" type="text"></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="tab-head">
                                <p>speed</p>
                            </div>
                            <div class="tab-property">
                                <table class="table">
                                    <tbody>
                                        <tr>
                                            <td><i class="fa fa-chevron-right"></i></td>
                                            <td>accept</td>
                                            <td><input autocomplete="off" type="text"></td>
                                        </tr>
                                        <tr>
                                            <td><i class="fa fa-chevron-right"></i></td>
                                            <td>alt</td>
                                            <td><input autocomplete="off" type="text"></td>
                                        </tr>
                                        <tr>
                                            <td><i class="fa fa-chevron-right"></i></td>
                                            <td>autocomplete</td>
                                            <td><input autocomplete="off" type="text"></td>
                                        </tr>
                                        <tr>
                                            <td><i class="fa fa-chevron-right"></i></td>
                                            <td>autofocus</td>
                                            <td><input autocomplete="off" type="text"></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div id="ntab1" class="tab-pane fade">
                            <h3>Ntab1</h3>
                            <p>Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
                        </div>
                        <div id="ntab2" class="tab-pane fade">
                            <h3>Ntab2</h3>
                            <p>Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam.</p>
                        </div>
                    </div>
                </div>
                <div id="main" style="margin-left: 20%; margin-right: 20%;">
                    <div class="w3-teal" style="background: #f3f3f3 !important;">
                        <button class="w3-button w3-teal w3-large w3-left" style="border-right: 1px solid #a9a9a9; display: none;">&#9776;</button>
                        <button class="w3-button w3-teal w3-large w3-right" style="display: none;">&#9776;</button>
                        <div class="w3-container" style="padding: 0; display: flow-root;">
                            <div class="video-container">
                                <video id="video1" width="900" style="margin: 30px;">
                                    <source src="" type="video/mp4">
                                </video>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="bottom-tool-pain">
                <div class="bottom-tool-menu">
                    <ul>
                            <li><button id="generateaudio" >Generate audio</button></li>
                            <li><button id="allinone" >All in one click</button></li>
                            <li><button id="onloader" onclick="loaderon()">loaderon</button></li>
                            <li><button id="offloader" onclick="loaderoff()">loaderoff</button></li>
                          <li><button onclick="mergeaudio_video()">merge audio video</button></li>
                        <li><button id="open-files-in-project">open</button></li>
                        <li> <button id="createvideo">Create Video</button></li>
                        <li> <a style="display:none" id="download" download="video.mp4"><button>Save Video</button></a></li>
                        <li><a href="#" data-toggle="tooltip" data-placement="top" title="Backward!"><i class="fa fa-step-backward" aria-hidden="true"></i></a></li>
                        <li><a href="#" data-toggle="tooltip" data-placement="top" title="Forward!"><i class="fa fa-step-forward" aria-hidden="true"></i></a></li>
                        <li><a href="javascript:void(0)" data-control="play-pause-btn" data-toggle="tooltip" data-placement="top" title="Play!"><i class="fa fa-play"></i></a></li>
                        <li><a href="javascript:void(0)" data-control="stop-btn" data-toggle="tooltip" data-placement="top" title="Stop!"><i class="fa fa-stop" aria-hidden="true"></i></a></li>
                        <li><a href="#"><i class="fa fa-microphone" aria-hidden="true" data-toggle="tooltip" data-placement="top" title="Microphone!"></i></a></li>
                        <li><a href="#"><i class="fa fa-volume-up" aria-hidden="true" data-toggle="tooltip" data-placement="top" title="Volume!"></i><i class="fa fa-volume-off hidden" aria-hidden="true"></i></a></li>
                        <li><a href="#" style="border-right: 1px solid #a9a9a9;" data-toggle="tooltip" data-placement="top" title="Record!"><i class="fa fa-camera" aria-hidden="true"></i></a></li>
                        <li style="min-width:80px; padding: 0 10px;"><span id="demo"></span></li>
                        <li><span><input type="range" min="1" max="100" value="50" class="slider" id="myRange"></span></li>
                        <li style="min-width:80px; padding: 0 10px;"><span id="demo2"> 00:00:00 </span></li>
                        <li><a href="#" data-toggle="tooltip" data-placement="top" title="Full screen!"><i class="fa fa-arrows-alt" aria-hidden="true"></i></a></li>
                        <li><a href="#" data-toggle="tooltip" data-placement="top" title="Fit to screen!"><strong>Fit</strong></a></li>
                        <li><a href="#" data-toggle="tooltip" data-placement="top" title="Pointer!"><i class="fa fa-mouse-pointer" aria-hidden="true"></i></a></li>
                        <li><a href="#" data-toggle="tooltip" data-placement="top" title="Crop!" style="border-right: 1px solid #a9a9a9;"><i class="fa fa-crop" aria-hidden="true"></i></a></li>
                    </ul>
                </div>
                <div class="bottom-tool-sec">
                    <ul>
                        <li><a href="#" data-toggle="tooltip" data-placement="top" title="Backward!"><i class="fa fa-reply" aria-hidden="true"></i></a></li>
                        <li><a href="#" data-toggle="tooltip" data-placement="top" title="Forward!"><i class="fa fa-share" aria-hidden="true"></i></a></li>
                        <li><a href="#" data-toggle="tooltip" data-placement="top" title="Scissors!"><i class="fa fa-scissors" aria-hidden="true"></i></a></li>
                        <li><a href="#" data-toggle="tooltip" data-placement="top" title="Full screen!"><i class="fa fa-arrows-h" aria-hidden="true"></i></a></li>
                        <li style="padding-right: 10px;"><a href="#"><i class="fa fa-minus" aria-hidden="true"></i></a></li>
                        <li><span> <input type="range" min="1" max="100" value="50" class="slider-sec" id="myRange"> </span></li>
                        <li style="padding-left: 10px;"><a href="#" style="border-left:0; border-right: 1px solid #a9a9a9;"><i class="fa fa-plus" aria-hidden="true"></i></a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <script src="../assets/js/video-project.js"></script>
    
<script src="../views/try/whammy.js"></script>
<script>
    const JsonFind = require('json-find');
    var selected_image='';
    var fetched_pdf_file_path='';
    var gtts = require('node-gtts')('en');
var path = require('path');
var localdata={ };
var name_of__fetched_files=[];
            /* Drag'n drop stuff */
            var drag = document.getElementById("drag");
            var fbutton = document.getElementById("fbutton");
            var createvideo = document.getElementById("createvideo");
            var files = document.getElementById("filesinput");

            var ctx = 0;

            var canvas = document.getElementById("canvas");
            var context = canvas.getContext("2d");

            //image to video via Whammy
            var video = new Whammy.Video(15);

            var filesarr = [];



            createvideo.addEventListener("click", function() {
                generate_audio();
           //  $('#generateaudio').trigger('click');
                //loaderon()
               // alert('clicked')
                document.getElementById('status').innerHTML = "Working... Please Wait.";

                document.getElementById('awesome').src = "";
                ctx = 0;

                canvas.width = document.getElementById("width").value;
                canvas.height = document.getElementById("height").value;
                video = new Whammy.Video(document.getElementById("framerate").value);

                //if we have images loaded
                if(filesarr.length>0){

                    //loop through them and process
                    for(i=0; i<filesarr.length; i++) {
                        var file = filesarr[i];
                        if(file.type.match(/image.*/)){
                            process(file);
                        } else {
                            document.getElementById('status').innerHTML = "This file does not seem to be a image.";
                        }
                    }
loaderoff();
                } else {
                    document.getElementById('status').innerHTML = "";
                }

            }, false);





            fbutton.addEventListener("click", function() {
                document.getElementById('filesinput').click();
            }, false);

            drag.ondragover = function(e) {e.preventDefault()}
            drag.ondrop = function(e) {
                e.preventDefault();
                filesarr = e.dataTransfer.items;


                document.getElementById('status').innerHTML = "Please select options and click on Create Video.";
            }

            //process files VIA INPUT
            files.addEventListener("change", function (e) {

                filesarr = e.target.files;
               // filesarr.push('C:/Users/rishi/OneDrive/Desktop/Wuntitled-1.png');
                //filesarr.push('C:/Users/rishi/OneDrive/Desktop/Wuntitled-1.png');
                //filesarr.push('C:/Users/rishi/OneDrive/Desktop/Wuntitled-1.png');
                for(let i=0;i<filesarr.length;i++){
                    name_of__fetched_files[i]=filesarr[i].name;
console.log(filesarr[i])
$('#image_selected_list').append(' <li style="padding:6px;" class="liclass"><img src="'+filesarr[i].path+'" height="60" width="100" />  <label style="overflow:hidden;">'+filesarr[i].name+' <i class="fa fa-edit" id="'+filesarr[i].name+'"></i></label></li>');
}
                console.log(filesarr)
                document.getElementById('status').innerHTML = "Please select options and click on Create Video.";
                
            }, false);



            /* main process function */
            function process(file) {

                var reader = new FileReader();
                reader.onload = function(event) {
                    var dataUri = event.target.result;
                    var img = new Image();
                 
                    //load image and drop into canvas
                    img.onload = function() {

                        //a custom fade in and out slideshow
                        context.globalAlpha = 0.2;
                        context.drawImage(img, 0, 0, canvas.width, canvas.height);
                        video.add(context);
                        context.clearRect(0,0,context.canvas.width,context.canvas.height);
                        context.globalAlpha = 0.4;
                        context.drawImage(img, 0, 0, canvas.width, canvas.height);
                        video.add(context);
                        context.clearRect(0,0,context.canvas.width,context.canvas.height);
                        context.globalAlpha = 0.6;
                        context.drawImage(img, 0, 0, canvas.width, canvas.height);
                        video.add(context);
                        context.clearRect(0,0,context.canvas.width,context.canvas.height);
                        context.globalAlpha = 0.8;
                        context.drawImage(img, 0, 0, canvas.width, canvas.height);
                        video.add(context);                       
                        context.clearRect(0,0,context.canvas.width,context.canvas.height);
                        context.globalAlpha = 1;
                        context.drawImage(img, 0, 0, canvas.width, canvas.height);

                        //this should be a loop based on some user input
                        video.add(context);
                        video.add(context);
                        video.add(context);
                        video.add(context);
                        video.add(context);
                        video.add(context);
                        video.add(context);

                        context.clearRect(0,0,context.canvas.width,context.canvas.height);
                        context.globalAlpha = 0.8;
                        context.drawImage(img, 0, 0, canvas.width, canvas.height);
                        video.add(context);
                        context.clearRect(0,0,context.canvas.width,context.canvas.height);
                        context.globalAlpha = 0.6;
                        context.drawImage(img, 0, 0, canvas.width, canvas.height);
                        video.add(context);
                        context.clearRect(0,0,context.canvas.width,context.canvas.height);
                        context.globalAlpha = 0.4;
                        context.drawImage(img, 0, 0, canvas.width, canvas.height);
                        video.add(context);
                              
                        ctx++;
                        finalizeVideo();

                    };
                    img.src = dataUri;
                };

                reader.onerror = function(event) {
                    console.error("File could not be read! Code " + event.target.error.code);
                };

                reader.readAsDataURL(file);

            }      


function finalizeVideo(){
  //check if its ready
  if(ctx==filesarr.length){

      var start_time = +new Date;
      var output = video.compile();
      var end_time = +new Date;
      var url = webkitURL.createObjectURL(output);

      document.getElementById('awesome').src = url; //toString converts it to a URL via Object URLs, falling back to DataURL
      console.log(url)
      document.getElementById('download').style.display = '';
      document.getElementById('download').href = url;
      document.getElementById('status').innerHTML = "Compiled Video in " + (end_time - start_time) + "ms, file size: " + Math.ceil(output.size / 1024) + "KB";

  }

}


$('.liclass').on({
    click:function(){
       var x3=$(this).find('label').text();
       console.log(x3)
       
    }
})

$('.loader').hide()

$(document).on('click','.fa-edit',function(){
    var currentid=$(this).attr('id');
    selected_image=currentid;
    const doc = JsonFind(localdata);
    $('#edit_image_description').show();
    var fechdata=doc.checkKey(currentid);
    alert(fechdata)

    if(isEmpty(localdata[currentid])) {
	

} else {
$('#write_image_description').text(fechdata)
}

})

function isEmpty(obj) {
    for(var key in obj) {
        if(obj.hasOwnProperty(key))
            return false;
    }
    return true;
}



$(document).on('click','.close',function(){
    
    $('#edit_image_description').hide();
$('#open1').hide();
})


$('#write_image_description').keyup(function(){
    var current_value=$(this).val();
   // console.log(selected_image+' '+localdata[selected_image])



localdata[selected_image]=current_value;

console.log(localdata);
})

function loaderon(){

$('.loader').show();
   
        $('.video-container').css({'filter':'blur(2px)'})
        $('.video-container').css({'-webkit-filter':'blur(2px)'})
        

        $('#leftMenu').css({'filter':'blur(2px)'})
        $('#leftMenu').css({'-webkit-filter':'blur(2px)'})
        
        $('#rightMenu').css({'filter':'blur(2px)'})
        $('#rightMenu').css({'-webkit-filter':'blur(2px)'})
        
        
    

}


function loaderoff(){

    $('.loader').hide();
$('.video-container').css({'filter':'blur(0px)'})
$('.video-container').css({'-webkit-filter':'blur(0px)'})


$('#leftMenu').css({'filter':'blur(0px)'})
$('#leftMenu').css({'-webkit-filter':'blur(0px)'})

$('#rightMenu').css({'filter':'blur(0px)'})
$('#rightMenu').css({'-webkit-filter':'blur(0px)'})




}



async function generate_audio(){
    var data='';
    var gtts = require('node-gtts')('en');
    var path=require('path');
    
    console.log(name_of__fetched_files);
var fetch_each_values=new Promise((resolve,reject)=>{


    for(let i=0;i<name_of__fetched_files.length;i++){
        if(localdata[name_of__fetched_files[i]]=='undefined'||localdata[name_of__fetched_files[i]]==null){
            data=data+'';
        }else{
            data=data+localdata[name_of__fetched_files[i]];
        }

    }
    console.log("value of data="+data);
    resolve(data)
}).then((data)=>{


var filepath ='C:/Users/admin/Documents/pypsi-stuff/Doremon/images/File/audio.mp3';
 
gtts.save(filepath, data, function() {
  console.log('save done');
})
})
}

$('#Done').click(function(){
//    generate_audio();
$('#edit_image_description').hide();

})


    $('#fetchfiles').change(function(e){
var fs= require('fs');

            var fileName = e.target.files[0].path;
fetched_pdf_file_path='C:/Users/admin/Documents/pypsi-stuff/Doremon/images';

            var pdftoimage = require('pdftoimage');
var file = e.target.files[0].path;
 var files = e.target.files;

// Returns a Promise
pdftoimage(file, {
  format: 'jpeg',  // png, jpeg, tiff or svg, defaults to png
  prefix: 'img',  // prefix for each image except svg, defaults to input filename
  outdir: 'C:/Users/admin/Documents/pypsi-stuff/Doremon/images'   // path to output directory, defaults to current directory
})
.then(function(){
  console.log('Conversion done');
})
.catch(function(err){
  console.log(err);
});
      //      alert('The file "' + fileName +  '" has been selected.');


      fs.readdir('C:/Users/admin/Documents/pypsi-stuff/Doremon/images', function (err, files) {
    //handling error
    if (err) {
        return console.log('Unable to scan directory: ' + err);
    } 
    //listing all files using forEach
    files.forEach(function (file) {
        // Do whatever you want to do with the file
        console.log(file); 

        $('#image_selected_list').append(' <li style="padding:6px;" class="liclass"><img src="C:/Users/admin/Documents/pypsi-stuff/Doremon/images/'+file+'" height="60" width="100" />  <label style="overflow:hidden;">'+file+' <i class="fa fa-edit" id="'+file+'"></i></label></li>');

        name_of__fetched_files[i]=file;
    });
});

$('#createvideo').trigger('click')

        });


function read_dir_images(){

    var fs=new require('fs');


   
}


$('#open-files-in-project').click(function(){
   // alert('clicked')
   $('#fetchfiles').trigger('click')

})

async function mergeaudio_video(){
    let {PythonShell} = require('python-shell')


    var options = {
      mode: 'text',
  
      pythonOptions: ['-u'],
      scriptPath: './',
      args: ['C:/Users/admin/Documents/pypsi-stuff/Doremon/images/File/audio.mp3', 'C:/Users/admin/Documents/pypsi-stuff/Doremon/images/File/video.mp4','C:/Users/admin/Documents/pypsi-stuff/Doremon/images/File/output.wmv']
    };

    PythonShell.run('C:/Users/admin/Documents/pypsi-stuff/newoypsi/generator-ak/p5.py', options, function (err, results) {
          if (err) throw err;
        
         console.log('results: %s', results);
         alert(results)
    });

}




async function pdf_to_image(){
    var file = 'C:/Users/admin/Documents/pypsi-stuff/newoypsi/generator-ak/src/views/try/pdf1.pdf';
    var pdftoimage = require('pdftoimage');
    var fs= require('fs')
   // loaderon();
var fetchfiles= new Promise((resolve,reject)=>{



// Returns a Promise
pdftoimage(file, {
  format: 'jpeg',  // png, jpeg, tiff or svg, defaults to png
  prefix: 'img',  // prefix for each image except svg, defaults to input filename
  outdir: 'C:/Users/admin/Documents/pypsi-stuff/Doremon/images'   // path to output directory, defaults to current directory
})
.then(function(){
  console.log('Conversion done');
  resolve('done')
 // loaderoff();
})
.catch(function(err){

  //loaderoff()
  
  reject(err)
  alert('Error : '+err)
  throw err;
});
})

await fetchfiles;
//loaderon()

 var readFiles= new Promise((resolve,reject)=>{

   fs.readdir('C:/Users/admin/Documents/pypsi-stuff/Doremon/images', function (err, files) {
   // handling error
     if (err) {
    //    loaderoff()
        return console.log('Unable to scan directory: ' + err);
         reject(err)
        
     } 
     //listing all files using forEach
     files.forEach(function (file) {
         // Do whatever you want to do with the file
         console.log(file); 

         $('#image_selected_list').append(' <li style="padding:6px;" class="liclass"><img src="C:/Users/admin/Documents/pypsi-stuff/Doremon/images/'+file+'" height="60" width="100" />  <label style="overflow:hidden;">'+file+' <i class="fa fa-edit" id="'+file+'"></i></label></li>');

         name_of__fetched_files[i]=file;
     }).then(function(){
      //  loaderoff()
         resolve('done')
     });
 });

 })


 await readFiles;

  var creatvid= new Promise((resolve,reject)=>{


      alert('here 1')
    document.getElementById('status').innerHTML = "Working... Please Wait.";

document.getElementById('awesome').src = "";
ctx = 0;

canvas.width = document.getElementById("width").value;
canvas.height = document.getElementById("height").value;
video = new Whammy.Video(document.getElementById("framerate").value);

alert('here 2')

//if we have images loaded
if(filesarr.length>0){

    //loop through them and process
    for(i=0; i<filesarr.length; i++) {
        var file = filesarr[i];
        if(file.type.match(/image.*/)){
            process(file);
        } else {
            document.getElementById('status').innerHTML = "This file does not seem to be a image.";
            alert('here 3')
        }
    }

} else {
    document.getElementById('status').innerHTML = "";
}
  })

  await creatvid;

}


$('#allinone').click(function(){
    pdf_to_image();
})



$('#generateaudio').click(function(){

var filepath = 'C:/Users/admin/Documents/pypsi-stuff/Doremon/images/demo.mp3';
 var data='';
 if(name_of__fetched_files.length>0){
for(let i=0;i<name_of__fetched_files.length;i++){
        if(localdata[name_of__fetched_files[i]]=='undefined'||localdata[name_of__fetched_files[i]]==null){
            data=data+'';
        }else{
            data=data+localdata[name_of__fetched_files[i]];
        }

    }

gtts.save(filepath, data, function() {
  console.log('save done');
})
 }else{
     console.log('no data to create audio')
 }
})


</script>
</body>

</html>